library(devtools)
document()
library(devtools)
document()
check()
check()
remove.packages("SC.MEB2")
run_examples()
data(iSCMEBObj_toy)
setwd("D:/DukeNUS/SCMEB2/Code/Github/iSC.MEB/data")
load("iSCMEBObj_toy.rda")
setwd("D:\DukeNUS\SCMEB2\RealDataAnalysis\tmp")
setwd("D:/DukeNUS/SCMEB2/RealDataAnalysis/tmp")
load("seuList.rda")
setwd("D:/DukeNUS/SCMEB2/Code/Github/iSC.MEB/data")
sapply(seuList, DefaultAssay)
Genelist <- row.names(seuList[[1]])
iSCMEBObj_toy <- CreateiSCMEBObject(seuList, customGenelist=Genelist, verbose=FALSE)
iSCMEBObj_toy <- CreateNeighbors(iSCMEBObj_toy, platform = "Visium")
iSCMEBObj_toy <- CreateiSCMEBObject(seuList, customGenelist=Genelist, verbose=FALSE)
save(iSCMEBObj_toy, file="iSCMEBObj_toy.rda")
rm(iSCMEBObj_toy)
rm(seuList)
rm(Genelist)
check()
install.packages("pkgdown")
usethis::use_pkgdown()
pkgdown::build_site()
setwd("D:/DukeNUS/SCMEB2/Code/Github/iSC.MEB")
pkgdown::build_site()
build()
install.packages("D:/DukeNUS/SCMEB2/Code/Github/iSC.MEB_1.0.tar.gz", repos = NULL, type = "source")
install.packages("D:/DukeNUS/SCMEB2/Code/Github/iSC.MEB_1.0.tar.gz", repos = NULL, type = "source")
pkgdown::build_site()
usethis::use_pkgdown()
usethis::use_pkgdown_github_pages()
load("DLPFC_151507_151508.rda")
load("vignettes_data/DLPFC_151507_151508.rda")
View(seuList)
seuList
iSCMEBObj_toy2 <- CreateiSCMEBObject(seuList, gene.number=200, verbose=FALSE)
devtools::document()
iSCMEBObj_toy2 <- CreateiSCMEBObject(seuList, gene.number=200, verbose=FALSE)
library(devtools)
load("vignettes_data/DLPFC_151507_151508.rda")
iSCMEBObj_toy <- CreateiSCMEBObject(seuList, gene.number=200, verbose=FALSE)
document()
iSCMEBObj_toy <- CreateiSCMEBObject(seuList, gene.number=200, verbose=FALSE)
seuList = iSCMEBObj_toy@seulist
count1 = seuList[[1]]@assays$RNA@counts
count2 = seuList[[2]]@assays$RNA@counts
colnames(seuList[[1]]@meta.data)
meta = lapply(1:2, function(i) seuList[[i]]@meta.data[, colnames(seuList[[1]]@meta.data)[4:6]])
seuList = vector("list", 2)
seuList[[1]] = CreateSeuratObject(counts = count1, meta.data = meta[[1]])
seuList[[2]] = CreateSeuratObject(counts = count2, meta.data = meta[[2]])
Genelist <- row.names(seuList[[1]])
iSCMEBObj_toy <- CreateiSCMEBObject(seuList, customGenelist=Genelist, verbose=FALSE)
save(iSCMEBObj_toy, file = "data/iSCMEBObj_toy.rda")
rm(list = ls())
data(iSCMEBObj_toy)
iSCMEBObj_toy <- runPCA(iSCMEBObj_toy)
iSCMEBObj_toy <- CreateNeighbors(iSCMEBObj_toy, platform = "Visium")
iSCMEBObj_toy <- SetModelParameters(iSCMEBObj_toy, c_penalty=4)
iSCMEBObj_toy <- iSCMEB(iSCMEBObj_toy, K = 7)
save(iSCMEBObj_toy, file = "data/iSCMEBObj_toy.rda")
usethis::use_pkgdown()
pkgdown::build_site()
devtools::document()
devtools::document()
library(devtools)
document()
document()
setwd("D:\DukeNUS\SCMEB2\RealDataAnalysis\seqFISH")
setwd("D:/DukeNUS/SCMEB2/RealDataAnalysis/seqFISH")
counts <- readRDS("/home/Zhangxiao/SCMEB2/seqFISH/counts.Rds")
meta <- readRDS("/home/Zhangxiao/SCMEB2/seqFISH/metadata.Rds")
counts <- readRDS("counts.Rds")
meta <- readRDS("metadata.Rds")
y = meta$celltype_mapped_refined
id = y!="Low quality" &  y!="ExE endoderm" & y!="Blood progenitors"
meta = meta[id,]
counts = counts[,id]
meta = meta[,c("celltype_mapped_refined", "row", "col")]
meta[1:3,]
meta$row = meta$x_global
meta$col = meta$y_global
library(Seurat)
seuList <- list()
embryos <- sort(unique(meta$embryo))
slices <- sort(unique(meta$z))
embryos
embryos = "embryo1"
for (i in 1:length(embryos)) {
for (j in 1:length(slices)) {
id = (meta$embryo == embryos[i]) & (meta$z == slices[j])
sample_name <- paste0("E", i, "S", j)
seuList[[sample_name]] <- CreateSeuratObject(counts = counts[, id], min.cells=100, meta.data = meta[id, c("celltype_mapped_refined", "row", "col")])
}
}
setwd("D:/DukeNUS/SCMEB2/Code/Github/iSC.MEB/vignettes_data")
save(seuList, file = "seqFISH_embryo1.rda")
rm(list = ls)
rm(list = ls())
devtools::document()
check()
resaveRdaFiles("data/iSCMEBObj_toy.rda",compress="xz")
tools::resaveRdaFiles("data/iSCMEBObj_toy.rda",compress="xz")
tools::resaveRdaFiles("data/iSCMEBObj_toy.rda",compress="xz")
getwd()
setwd("D:/DukeNUS/SCMEB2/Code/Github/iSC.MEB")
tools::resaveRdaFiles("data/iSCMEBObj_toy.rda",compress="xz")
checkRdaFiles("data/")
tools::checkRdaFiles("data/")
usethis::use_pkgdown()
pkgdown::build_site()
pkgdown::build_site()
